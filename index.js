!function(e,h,c){"use strict";function t(e,t){return e(t={exports:{}},t.exports),t.exports}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c;var a="object"==typeof(_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})&&_&&_.Object===Object&&_,o="object"==typeof self&&self&&self.Object===Object&&self,r=a||o||Function("return this")(),n=r.Symbol,i=(R=Object.prototype).hasOwnProperty,s=R.toString,l=n?n.toStringTag:void 0,u=function(e){var t=i.call(e,l),a=e[l];try{var o=!(e[l]=void 0)}catch(e){}var r=s.call(e);return o&&(t?e[l]=a:delete e[l]),r},d=Object.prototype.toString,f=function(e){return d.call(e)},p=n?n.toStringTag:void 0,m=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(p&&p in Object(e)?u:f)(e)},v=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},O=function(e){return!!v(e)&&("[object Function]"==(e=m(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)},g=r["__core-js_shared__"],y=(I=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"",C=function(e){return!!y&&y in e},P=Function.prototype.toString,b=function(e){if(null!=e){try{return P.call(e)}catch(e){}try{return e+""}catch(e){}}return""},T=/^\[object .+?Constructor\]$/,_=Function.prototype,a=Object.prototype,o=_.toString,R=a.hasOwnProperty,E=RegExp("^"+o.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=function(e){return!(!v(e)||C(e))&&(O(e)?E:T).test(b(e))},S=function(e,t){return null==e?void 0:e[t]},N=(g=function(e,t){return t=S(e,t),A(t)?t:void 0})(Object,"create"),I=function(){this.__data__=N?N(null):{},this.size=0},_=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},j=Object.prototype.hasOwnProperty,a=function(e){var t=this.__data__;if(N){var a=t[e];return"__lodash_hash_undefined__"===a?void 0:a}return j.call(t,e)?t[e]:void 0},V=Object.prototype.hasOwnProperty;function w(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var o=e[t];this.set(o[0],o[1])}}o=function(e){var t=this.__data__;return N?void 0!==t[e]:V.call(t,e)},R=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=N&&void 0===t?"__lodash_hash_undefined__":t,this},w.prototype.clear=I,w.prototype.delete=_,w.prototype.get=a,w.prototype.has=o,w.prototype.set=R;var x=w;I=function(){this.__data__=[],this.size=0};var F=function(e,t){return e===t||e!=e&&t!=t},L=function(e,t){for(var a=e.length;a--;)if(F(e[a][0],t))return a;return-1},U=Array.prototype.splice;function M(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var o=e[t];this.set(o[0],o[1])}}_=function(e){var t=this.__data__;return!((e=L(t,e))<0)&&(e==t.length-1?t.pop():U.call(t,e,1),--this.size,!0)},a=function(e){var t=this.__data__;return(e=L(t,e))<0?void 0:t[e][1]},o=function(e){return-1<L(this.__data__,e)},R=function(e,t){var a=this.__data__,o=L(a,e);return o<0?(++this.size,a.push([e,t])):a[o][1]=t,this},M.prototype.clear=I,M.prototype.delete=_,M.prototype.get=a,M.prototype.has=o,M.prototype.set=R;var z=M,k=g(r,"Map"),D=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},B=function(e,t){return e=e.__data__,D(t)?e["string"==typeof t?"string":"hash"]:e.map};function q(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var o=e[t];this.set(o[0],o[1])}}o=function(e){return e=B(this,e).delete(e),this.size-=e?1:0,e},R=function(e){return B(this,e).get(e)},g=function(e){return B(this,e).has(e)},r=function(e,t){var a=B(this,e),o=a.size;return a.set(e,t),this.size+=a.size==o?0:1,this},q.prototype.clear=function(){this.size=0,this.__data__={hash:new x,map:new(k||z),string:new x}},q.prototype.delete=o,q.prototype.get=R,q.prototype.has=g,q.prototype.set=r;var J=q,H="Expected a function";function Q(o,r){if("function"!=typeof o||null!=r&&"function"!=typeof r)throw new TypeError(H);var n=function(){var e=arguments,t=r?r.apply(this,e):e[0],a=n.cache;if(a.has(t))return a.get(t);e=o.apply(this,e);return n.cache=a.set(t,e)||a,e};return n.cache=new(Q.Cache||J),n}Q.Cache=J;var G=Q;function W(){this.content=$("<div>").addClass("content serasa"),this.container=$("<div>").addClass("container").append(this.content)}var Y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/\\(\\)?/g,X=(n=((n=(function(e){var t=(e=G(e,function(e){return 500===t.size&&t.clear(),e})).cache}(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(Y,function(e,t,a,o){r.push(a?o.replace(K,"$1"):t||e)}),r}),n?n.prototype:void 0))&&n.toString,{CPF:t(function(e,t){function o(e){var a=(e=e.split("").map(function(e){return parseInt(e,10)})).length+1;return(e=e.map(function(e,t){return e*(a-t)}).reduce(function(e,t){return e+t})%11)<2?0:11-e}var a,r,n,i;a=["00000000000","11111111111","22222222222","33333333333","44444444444","55555555555","66666666666","77777777777","88888888888","99999999999","12345678909"],r=/[.-]/g,n=/[^\d]/g,i={format:function(e){return this.strip(e).replace(/^(\d{3})(\d{3})(\d{3})(\d{2})$/,"$1.$2.$3-$4")},strip:function(e,t){t=t?r:n;return(e||"").toString().replace(t,"")},isValid:function(e,t){e=this.strip(e,t);if(!e)return!1;if(11!==e.length)return!1;if(0<=a.indexOf(e))return!1;t=e.substr(0,9);return t+=o(t),(t+=o(t)).substr(-2)===e.substr(-2)},generate:function(e){for(var t="",a=0;a<9;a++)t+=Math.floor(9*Math.random());return t+=o(t),t+=o(t),e?this.format(t):t}},e.exports=i}),CNPJ:t(function(e,t){function o(e){var a=2;return(e=e.split("").reduce(function(e,t){return[parseInt(t,10)].concat(e)},[]).reduce(function(e,t){return e+=t*a,a=9===a?2:a+1,e},0)%11)<2?0:11-e}var a,r,n,i;a=["00000000000000","11111111111111","22222222222222","33333333333333","44444444444444","55555555555555","66666666666666","77777777777777","88888888888888","99999999999999"],r=/[-\/.]/g,n=/[^\d]/g,i={format:function(e){return this.strip(e).replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5")},strip:function(e,t){t=t?r:n;return(e||"").toString().replace(t,"")},isValid:function(e,t){e=this.strip(e,t);if(!e)return!1;if(14!==e.length)return!1;if(0<=a.indexOf(e))return!1;t=e.substr(0,12);return t+=o(t),(t+=o(t)).substr(-2)===e.substr(-2)},generate:function(e){for(var t="",a=0;a<12;a++)t+=Math.floor(9*Math.random());return t+=o(t),t+=o(t),e?this.format(t):t}},e.exports=i})})).CPF,Z=n.CNPJ,ee={ocorrencia:"Tipo de Ocorrência",entrada:"Data de Entrada",vencimento:"Data de Vencimento",valor:"Valor",informante:"Informante",contrato:"Número de Contrato",avalista:"Avalista",cidade:"Cidade",uf:"UF",situacao:"Situação",orgaoemissor:"Orgão Emissor",totalpendencias:"Total de Pendências",totalcredores:"Total de Credores",totalvalor:"Valor Total",categoria:"Categoria"};W.prototype.addItem=function(e,t){var a=$("<div>").addClass("field"),o=$("<div>").addClass("name").css({fontSize:"10px",fontWeight:"bold"}),r=$("<div>").addClass("value");a.append(o.text(e),r.text(t)),this.content.append(a)},W.prototype.element=function(){return this.container},W.prototype.resetFields=function(){this.content=$("<div>").addClass("content serasa"),this.container=$("<div>").addClass("container").append(this.content)},e.addPlugin(function(m){function i(t,a){return m.server.call("SELECT FROM 'ICHEQUES'.'IPAYTHEBILL'",m.call("loader::ajax",{dataType:"json",success:function(e){e?m.call("credits::has",t,function(){a()}):a()}}))}var n=(m.confs.user||{}).tags||[];m.registerCall("icheques::consulta::imoveis::generate",function(e,a,t,o,r,n){void 0===r&&(r=!1),void 0===n&&(n=null),h.isEmptyObject(n)||(n.parent(),n.remove());function i(e,t){return t?a.addItem(e,t):null}var s=!r,e=JSON.parse(e);h.isEmptyObject(e)||(void 0===(e=e.IPTUS)||0===e.length?(t=a.addSeparator("Não foram encontrados registros de IPTU","O sistema não encontrou nenhum registro de IPTU para o documento informado.","Para o documento "+(X.isValid(t)?X:Z).format(t)+" não foram encontrados registros de IPTU.").addClass("error"),m.call("minimizar::categorias",a.element()),s&&(h("html, body").animate({scrollTop:t.offset().top},2e3),s=!1)):(e.forEach(function(e){var t=a.addSeparator("Registro de IPTU no Nome","Apontamentos de IPTU para o documento informado","Imposto Predial e Territorial Urbano sendo cobrado para o documento").addClass("error");s&&(h("html, body").animate({scrollTop:t.offset().top},2e3),s=!1),e.hasOwnProperty("COMPLEMENTO")&&(e.COMPLEMENTO.hasOwnProperty("CONJUNTO")&&i("Conjunto",e.COMPLEMENTO.CONJUNTO),e.COMPLEMENTO.hasOwnProperty("QUADRA")&&i("Quadra",e.COMPLEMENTO.QUADRA),e.COMPLEMENTO.hasOwnProperty("LOTE")&&i("Lote",e.COMPLEMENTO.LOTE)),e.hasOwnProperty("ENDERECO")&&i("Endereço",e.ENDERECO),e.hasOwnProperty("NUMERO")&&i("Número",e.NUMERO),e.hasOwnProperty("BAIRRO")&&i("Bairro",e.BAIRRO),e.hasOwnProperty("CEP")&&i("CEP",e.CEP),e.hasOwnProperty("AREA")&&(e.AREA.hasOwnProperty("TOTAL")&&i("Área do Terreno",e.AREA.TOTAL?c(e.AREA.TOTAL).format()+" m²":null),e.AREA.hasOwnProperty("CONSTRUIDA")&&i("Área Construída",e.AREA.CONSTRUIDA?c(e.AREA.CONSTRUIDA).format()+" m²":null)),e.hasOwnProperty("ANO")&&i("Ano de Construção",e.ANO?c(e.ANO).format():null),e.hasOwnProperty("ANO")&&i("Base de Cálculo do IPTU",e.ANO?c(e.ANO).format("$0,0.00"):null),e.hasOwnProperty("VALOR")&&(e.VALOR.hasOwnProperty("IPTU")&&i("Valor do IPTU",e.VALOR.IPTU?c(e.VALOR.IPTU).format("$0,0.00"):null),e.VALOR.hasOwnProperty("IPTU")&&i("Valor do IMÓVEL",e.VALOR.IPTU?c(e.VALOR.CONSTRUCAO).format("$0,0.00"):null))}),m.call("minimizar::categorias",a.element())))}),m.registerCall("icheques::consulta::imoveis",function(t,a,o){return i(2e4,function(){return m.serverCommunication.call("SELECT FROM 'IMOVEIS'.'CONSULTA'",m.call("loader::ajax",{dataType:"json",data:{documento:a.replace(/[^0-9]/g,"")},error:function(){toastr.error("Houve um erro ao consultar imóveis. O valor da consulta já foi estornado, por favor, tente mais tarde.")},success:function(e){m.call("icheques::consulta::imoveis::generate",e,t,a,!1,!1,o)}}))})}),m.registerCall("icheques::consulta::score::generate",function(e,o,t,a,r,n){void 0===r&&(r=!1),void 0===n&&(n=null);var i=e;if(i.hasOwnProperty("score")){e=i.score[0];null!=n&&n.remove();i=function(e,t,a){return t&&o.addItem(e,t,void 0,a)},n=!r,r=o.addSeparator("Score Boa Vista","Consulta","Score, explicação do score pela Boa Vista, porcentagem de inadimplência.").addClass("error");n&&h("html, body").animate({scrollTop:r.offset().top},2e3),i("Score",parseInt(e.score)),i("Probabilidade de Inadimplência",e.provavel),Z.isValid(t)||i("Classificação",e.classificacao),i("Análise",e.texto),Z.isValid(t)||i("Status",e.status),Z.isValid(t)&&(i("Classificação Númerica",e.classificacao_numerica),i("Classificação Alfabética",e.classificacao_alfabetica));i=[{name:"Score Boa Vista",value:parseInt(e.score)}];Z.isValid()?i.push({name:"Classificação Númerica",value:e.classificacao_numerica},{name:"Classificação Alfabética",value:e.classificacao_alfabetica}):i.push({name:"Classificação",value:e.classificacao});e=o.element().parent().find(".separator.resumo_negativacoes").find("content");return console.log(e,i)}}),m.registerCall("icheques::consulta::score",function(t,a,o){return i(Z.isValid(a)?6e3:3700,function(){return m.serverCommunication.call("SELECT FROM 'SPCNet'.'ScoreBoaVista'",m.call("loader::ajax",{dataType:"json",data:{documento:a.replace(/[^0-9]/g,"")},error:function(){toastr.error("Houve um erro ao consultar o Score. O valor da consulta já foi estornado, por favor, tente mais tarde.")},success:function(e){m.call("icheques::consulta::score::generate",e,t,a,!1,!1,o)}}))})}),m.registerCall("icheques::consulta::refin::generate",function(t,o,e,a,r,n,i){var s;void 0===a&&(a=!1),void 0===r&&(r=!1),void 0===n&&(n=null),null!=n&&n.remove();try{s=JSON.parse(t)}catch(e){s=t}if(!h.isEmptyObject(s)){var c=!1;s.hasOwnProperty("spc")&&(c=s.spc[0].length);var n=o.element().parent().find(".resumo_negativacoes"),l=!r,u=function(e,t,a){return t&&o.addItem(e,t,void 0,a).parent().css({paddingTop:0,paddingBottom:0})};if(!c){c=o.addSeparator("Restrições Pefin/Refin Boa Vista","Apontamentos e Restrições Financeiras e Comerciais","Pendências e restrições financeiras no Boa Vista").addClass("error");return l&&(h("html, body").animate({scrollTop:c.offset().top},2e3),l=!1),u("Informação","Para o documento "+(X.isValid(e)?X:Z).format(e)+" não foram encontrados registros de restrições."),void(a||m.call("alert",{icon:"pass",title:"Não há Pefin/Refin Boa Vista no Target",subtitle:"O sistema encontrou 0 ocorrências de Pefin/Refin para o documento informado.",paragraph:"Para o documento "+(X.isValid(e)?X:Z).format(e)+" não foram encontrados registros de Refin/Pefin."}))}var d=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),f=!0;s.spc[0].forEach(function(e){var t=o.addSeparator("Restrição no Refin/Pefin","Apontamentos e Restrições Financeiras e Comerciais","Pendências e restrições financeiras nos bureaus de crédito Refin e Pefin").addClass("error");f||t.hide().find(".container").remove(),f=f&&!1,l&&(h("html, body").animate({scrollTop:t.offset().top},2e3),l=!1),u("Associado",e.NomeAssociado),u("Valor",""+d.format(parseFloat(e.Valor))),u("Data da Inclusão",e.DataDeInclusao),u("Data do Vencimento",e.DataDoVencimento),u("Entidade",e.Entidade),u("Número do Contrato",e.NumeroContrato),u("Comprador, Fiador ou Avalista",e.CompradorFiadorAvalista),u("Telefone Associado",e.TelefoneAssociado),u("Cidade Associado",e.CidadeAssociado),u("UF Associado",e.UfAssociado)}),n.length&&(o.element().parent().find(".result:contains(Resumo de Negativações)").remove(),m.call("grafico::analitico",o.element().parent(),e,i,!0)),s.consultaRealizada.length&&(o.addSeparator("Quem consultou este CPF/CNPJ?","Veja o histórico de Pefin/Refin do Target","No passado um CPF/CNPJ consultou Pefin/Refin neste Target."),s.consultaRealizada.forEach(function(e){u("Nome Associado",e.NomeAssociado),u("Data da Consulta",e.DataDaConsulta,!0)}))}}),m.registerCall("icheques::consulta::refin",function(t,a,o,r){var e={cpf:{endpointCall:"SELECT FROM 'PROTESTOS'.'REFIN'",searchValue:1200},cnpj:{endpointCall:"SELECT FROM 'PROTESTOS'.'REFIN'",searchValue:2700}}[11<a.replace(/[^0-9]/g,"").length?"cnpj":"cpf"],n=e.endpointCall,e=e.searchValue;i(e,function(){return m.serverCommunication.call(n,m.call("loader::ajax",{dataType:"json",data:{documento:a.replace(/[^0-9]/g,"")},error:function(){toastr.error("Houve um erro ao verificar seu saldo. Por favor, tente mais tarde.")},success:function(e){m.call("icheques::consulta::refin::generate",e,t,a,!1,!1,o,r)}}))})}),m.registerCall("icheques::consulta::serasa::generate",function(t,e,a,o,r,n,i){if(void 0===o&&(o=!1),void 0===r&&(r=!1),void 0===n&&(n=null),!h.isEmptyObject(t)){var s;try{s=JSON.parse(t)}catch(e){s=t}var c=s.informacoes.hasOwnProperty("valorTotalPendencias")?s.informacoes.valorTotalPendencias:null;try{s=s.informacoes[0].bello}catch(e){console.log(e)}var l=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"});null!=n&&n.remove();var u,d=new W,f=function(e,t){return t&&d.addItem(e,t)},p=!r,r=e.element().parent().find(".resumo_negativacoes");s.length?(u=e.addSeparator("Restrições Serasa","Apontamentos e Restrições Financeiras e Comerciais",null!==c?"O documento possui "+l.format(c)+"em pendências Financeiras":"Pendências e restrições financeiras no Serasa").addClass("error"),s.forEach(function(t){p&&(h("html, body").animate({scrollTop:u.offset().top},2e3),p=!1),Object.keys(t).forEach(function(e){return f(ee[e],t[e]||"Não Informado")}),e.element().append(d.element().append(h("<hr>"))),d.resetFields()}),r.length&&(e.element().parent().find(".result:contains(Resumo de Negativações)").remove(),m.call("grafico::analitico",e.element().parent(),a,i,!0))):(i=e.addSeparator("Restrições Serasa","Apontamentos e Restrições Financeiras e Comerciais","Pendências e restrições financeiras no Serasa").addClass("error"),m.call("resize",[i]),p&&(h("html, body").animate({scrollTop:i.offset().top},2e3),p=!1),f("Informação","Para o documento "+(X.isValid(a)?X:Z).format(a)+" não foram encontrados registros de restrições."),e.element().append(d.element()),o||m.call("alert",{icon:"pass",title:"Não há Restrições Serasa no Target",subtitle:"O sistema encontrou 0 ocorrências de Restrições Serasa para o documento informado.",paragraph:"Para o documento "+(X.isValid(a)?X:Z).format(a)+" não foram encontrados registros de restrições."}))}}),m.registerCall("icheques::consulta::serasa",function(t,a,o,r){return i(4e3,function(){return m.serverCommunication.call("SELECT FROM 'PROTESTOS'.'SERASA'",{dataType:"json",data:{documento:a.replace(/[^0-9]/g,"")},success:function(e){m.call("icheques::consulta::serasa::generate",e,t,a,!1,!1,o,r)},error:function(e){toastr.error("Houve um erro ao consultar inadimplência. Tente novamente mais tarde.")}})})}),m.registerTrigger("ccbusca::parser","imoveis",function(e,t){var a,o=e.result,r=e.doc;Z.isValid(r)||(a=null,e=-1===n.indexOf("no-imóveis"),a=h("<button />").text("Consultar Imóveis SP Capital").addClass("button").append(h("<small />").text("CPF Somente - R$20").css({display:"block","font-size":"9px"})),e?a.click(m.click("icheques::consulta::imoveis",o,r,a)):a.on("click",function(e){e.preventDefault(),m.call("blockedOperation","imóveis")}),o.addItem().prepend(a),t())}),m.registerTrigger("ccbusca::parser","refin",function(e,t){var a=e.result,o=e.doc,r=e.jdocument;t();e=null,t=-1===n.indexOf("no-consulta-pefin-refin-boa-vista"),e=h("<button />").text("Consultar Pefin/Refin Boa Vista").addClass("button").append(h("<small />").text("CPF R$1,20 / CNPJ R$2,70").css({display:"block","font-size":"9px"}));t?e.click(m.click("icheques::consulta::refin",a,o,e,r)):e.on("click",function(e){e.preventDefault(),m.call("blockedOperation","consulta-pefin-refin-boa-vista")}),a.addItem().prepend(e)}),m.registerTrigger("ccbusca::parser","score",function(e,t){var a=e.result,o=e.doc;t();e=null,t=-1===n.indexOf("no-score-boa-vista"),e=h("<button />").text("Consultar Score Boa Vista").addClass("button").append(h("<small />").text("CPF R$ 3,00 / CNPJ R$ 6,00").css({display:"block","font-size":"9px"}));t?e.click(m.click("icheques::consulta::score",a,o,e)):e.on("click",function(e){e.preventDefault(),m.call("blockedOperation","score-boa-vista")}),a.addItem().prepend(e)}),m.registerTrigger("ccbusca::parser","serasa",function(e,t){var a=e.result,o=e.doc,r=e.jdocument;t();e=null,t=-1===n.indexOf("no-consulta-pefin-refin-serasa"),e=h("<button />").text("Consultar Pefin/Refin Serasa").addClass("button").append(h("<small />").text("CPF/CNPJ - R$ 4").css({display:"block","font-size":"9px"}));t&&null!=n.join().match(/(flex|ouro|prata|diamante)/)?e.click(m.click("icheques::consulta::serasa",a,o,e,r)):e.on("click",function(e){return e.preventDefault(),null===n.join().match(/(flex|ouro|prata|diamante)/)?m.call("alert",{title:"Infelizmente voce não tem permissão para isso!",subtitle:"Para realizar essa consulta é necessário que você esteja no plano flex, prata, ouro ou diamante."}):void m.call("blockedOperation","consulta-pefin-refin-serasa")}),a.addItem().prepend(e)})})}(harlan,$,numeral);
